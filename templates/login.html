<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Login</title>
    <style>
        /* Your existing perfect CSS - unchanged */
        body { margin: 0; font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif; 
               background-color: #17181D; color: #FFFFFF; display: flex; 
               justify-content: center; align-items: center; height: 100vh; position: relative; }
        .login-container { background-color: #17181D; border-radius: 10px; padding: 40px 30px; 
                          box-shadow: 0 6px 22px rgba(0,0,0,0.7), 0 1.5px 5px rgba(0,0,0,0.15); 
                          width: 320px; text-align: center; z-index: 1; }
        /* ... rest of your CSS perfect ... */
    </style>
</head>
<script>
if (screen.width > 768) {
    alert('Please use phone/tablet!');
    window.location.href = '/';
}
</script>

<body>
    <!-- âœ… FLASH MESSAGES FIXED -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="flash-message">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="login-container">
        <h1>ðŸ“± QR Login</h1>
        <form action="{{ url_for('login') }}" method="post">
            <label>Please scan the QR code with your phone to login</label>
            <br><br>
            <!-- <p style="font-size: 14px; color: #bbb;">Auto-redirects after scan...</p> -->
        </form>
    </div>

    <!-- âœ… JS perfect -->
    <script>
        window.onload = function() {
            setTimeout(function() {
                const flashes = document.querySelectorAll('.flash-message');
                flashes.forEach(flash => {
                    flash.classList.add('fade-out');
                    flash.addEventListener('animationend', () => flash.remove(), { once: true });
                });
            }, 4000);
        }
    </script>
</body>
</html>
